<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>script.aculo.us functional tests</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <link type="text/css" rel="stylesheet" title="default" href="../../themes/default/theme.css" />
  <link type="text/css" rel="stylesheet disabled" title="alternate" href="../../themes/test/theme.css" />
  
  <style type="text/css" media="screen">  
    @import url("css/test.css");
  </style>
  <script src="../../lib/prototype.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../dist/s2.js" type="text/javascript" charset="utf-8"></script>
  
  <script src="js/switcher.js" type="text/javascript"></script>
</head>

<body>
  <div id="theme_switcher">
    <ul>
      <li>
        <strong>Theme:</strong>
      </li>
      <li>
        <a href="#default">Default</a>
      </li>
      <li>
        <a href="#alternate">Alternate</a>
      </li>
    </ul>    
  </div> <!-- #theme_switcher -->
  
  <script type="text/javascript">
    (function() {
      var STYLESHEETS = $A(document.getElementsByTagName('link'));
      
      $('theme_switcher').observe('click', function(event) {
        var element = event.element();
        if (element.nodeName.toUpperCase() !== 'A') return;        
        var sheet = element.readAttribute('href').split('#').last();
        
        STYLESHEETS.each( function(s) {
          var title = s.readAttribute('title');
          s.disabled = (title !== sheet);
        });
      });
      
    })();
  </script>  
  <h1>Autocompleter Tests</h1>
  
  <h2>Standard Autocompleter</h2>
  
  <span id="autocompleter1">
    <input type="text" name="firstname" />
  </span> <!-- #autocompleter1 -->
  
  <span class="ui-widget">
    <button id="dummy1">Dummy control</button>
  </span>
  
  
  <script type="text/javascript">
    new S2.UI.Button('dummy1');
  
    var STATE_NAMES = [
      'Alabama',
      'Alaska',
      'Arizona',
      'Arkansas',
      'California',
      'Colorado',
      'Connecticut',
      'Delaware',
      'Florida',
      'Georgia',
      'Hawaii',
      'Idaho',
      'Illinois',
      'Indiana',
      'Iowa',
      'Kansas',
      'Kentucky',
      'Louisiana',
      'Maine',
      'Maryland',
      'Massachusetts',
      'Michigan',
      'Minnesota',
      'Mississippi',
      'Missouri',
      'Montana',
      'Nebraska',
      'Nevada',
      'New Hampshire',
      'New Jersey',
      'New Mexico',
      'New York',
      'North Carolina',
      'North Dakota',
      'Ohio',
      'Oklahoma',
      'Oregon',
      'Pennsylvania',
      'Rhode Island',
      'South Carolina',
      'South Dakota',
      'Tennessee',
      'Texas',
      'Utah',
      'Vermont',
      'Virginia',
      'Washington',
      'West Virginia',
      'Wisconsin',
      'Wyoming'
    ];  
  
    new S2.UI.Autocompleter('autocompleter1', {
      choices: STATE_NAMES
    });
  </script>
  
  <div>
    <select>
      <option>Dummy select box</option>
    </select>
  </div>
  
  <div class="description">
    A standard autocompleter (<code>Autocompleter.Local</code> in scripty1 parlance). The choices are the fifty U.S. states. It should behave like a regular text box, with a few exceptions:
    <ul>
      <li>When the user has typed at least one character in the box, a list of completions <strong>should</strong> be offered.</li>
      <li>If the value in the box matches a substring of a possible choice, case-insensitively, then that choice <strong>should</strong> appear in the menu.</li>
      <li>If there are no such matches, the menu <strong>should not</strong> appear.</li>
      <li>When the menu appears, it <strong>should</strong> be free of any highlights.</li>
      <li>While the menu is shown, the <kbd>UP</kbd> and <kbd>DOWN</kbd> arrow keys <strong>should</strong> move the highlight between choices.</li>
      <li>When an item is highlighted, it can be "chosen" with <kbd>TAB</kbd> or <kbd>RETURN</kbd>. In both cases, pressing the key <strong>should</strong> fill the text box with the proper value, then blur the field. If <kbd>TAB</kbd> was pressed, focus <strong>should</strong> move to the dummy button control.</li>
      <li>Hovering over a menu item with the mouse <strong>should</strong> highlight that item. Clicking on a menu item <strong>should</strong> behave identically to pressing <kbd>RETURN</kbd>.</li>
      <li>The matching substring of a given choice <strong>should</strong> be bold.</li>
    </ul>
  </div> <!-- .description -->
  
</body>
</html>